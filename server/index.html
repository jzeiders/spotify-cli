<!Doctype html>
<!-- 
Lol looking at my code
Maybe you were wondering why a page with 6 words needs jquery,
well its cuz im lazy
write your own dang terminal integration
and blame Oauth for being all secure and requiring websites and servers
-->

<head>
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<link href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAACUWAAAlFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaONqDwAAAAAAAAAAAAAAAAAAAABo42r5aONq/2jjav9o42r/aONq/2jjav9o42r/aONq+AAAAAAAAAAAAAAAAGjjarho42qHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABo42oYaONq1GjjaocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGjjahRo42rOaONqhwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaONqEmjjau5o42pxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGjjaplo42rdaONqHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGjjapFo42rdaONqHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGjjaodo42rdaONqHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABo42pjaONqHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AAD//wAAvAMAAJ//AACP/wAAx/8AAOP/AADj/wAAx/8AAI//AACf/wAA//8AAP//AAD//wAA//8AAA=="
	rel="icon" type="image/x-icon" />
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/css/materialize.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
	<title> Spotify CLI </title>
</head>

<body>
	<div id="not-logged-in">
		<div class="title">
			<h1> Bashify </h1>
			<h3> The Spotify CLI </h3>
			<a class="waves-effect waves-light btn-large pink accent-1" href="/login">
				<i class="material-icons right">play_circle_outline</i>Login</a>
		</div>
	</div>
	<div id="logged-in">
		<div class="title">
			<h1> Thanks, <br> for using Bashify</h1>
			<h5> (You can go back to the terminal now)</h5>
		</div>
	</div>
</body>

<script>
	window.onload = function () {
		if (window.location.hash.length > 15) {
			document.getElementById("not-logged-in").style.display = "none"
		} else {
			document.getElementById("logged-in").style.display = "none"
		}
		var hash = window.location.hash;
		console.log(window.location.hash);
		var access_token = hash.slice(hash.search("access_token") + 13, hash.search("refresh_token") - 1)
		var refresh_token = hash.slice(hash.search("refresh_token") + 14);
		console.log(access_token);
		console.log(refresh_token);
		if (hash.search("access_token") != -1) {
			var xhr = new XMLHttpRequest();
			xhr.open("GET", 'http://localhost:7777?' + window.location.hash.slice(1));
			xhr.send();
		}
	}

</script>

<style>
	body {
		background: #b2ebf2;
		font-family: Roboto
	}

	.title {
		margin: 10% 20%;
		font-weight: 900;
	}

	a {
		color: white;
	}

</style>
